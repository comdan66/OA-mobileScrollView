/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2016 OA Wu Design
 */

!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.fn.extend({OAmobileScrollView:function(s){var e={},i=function(s){var e=1,i=t(this),n=i.find("> div"),a=n.find("> *"),o=i.width(),r=a.width()+parseFloat(a.css("border-left-width"))+parseFloat(a.css("border-right-width"))+parseFloat(a.css("margin-right"))+parseFloat(a.css("margin-right")),d=(r-o)/2;n.css({left:-(r*e+d)}).draggable({axis:"x",start:function(){t(this).removeClass("t")},stop:function(){t(this).addClass("t"),Math.abs((t(this).offset().left+r*e+d)%o)>o/3&&(e+=parseFloat(t(this).offset().left+r*e+d)<0?1:-1),e+1>a.length&&(e=a.length-1);var s=-(r*e+d);t(this).css({left:(e+1==a.length?s-d:s>0?0:s)+"px"})}}),i.addClass("s"),setTimeout(function(){i.addClass("z")},300)};return s=t.extend(!0,e,s),t(this).addClass("OA-mobileScrollView").each(function(){setTimeout(i.bind(t(this),s),50)})}})});