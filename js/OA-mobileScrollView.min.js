/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2016 OA Wu Design
 */

!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.fn.extend({OAmobileScrollView:function(e){var s={trigger_length:50},i=function(e){var s=1,i=t(this),n=i.find("> div"),a=n.find("> *"),l=i.width(),r=a.width()+parseFloat(a.css("border-left-width"))+parseFloat(a.css("border-right-width"))+parseFloat(a.css("margin-right"))+parseFloat(a.css("margin-right")),d=(r-l)/2,o=-(r*s+d);n.addClass("n"+a.length).css({left:o}).draggable({axis:"x",start:function(){t(this).removeClass("t")},stop:function(){t(this).addClass("t"),Math.abs((t(this).offset().left+r*s+d)%l)>e.trigger_length&&(s+=parseFloat(t(this).offset().left+r*s+d)<0?1:-1),s+1>a.length&&(s=a.length-1),o=-(r*s+d),t(this).css({left:(s+1==a.length?o-d:o>0?0:o)+"px"})}}),i.addClass("s"),setTimeout(function(){i.addClass("z")},300)};return e=t.extend(!0,s,e),t(this).addClass("OA-mobileScrollView").each(function(){setTimeout(i.bind(t(this),e),50)})}})});