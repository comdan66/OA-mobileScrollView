/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2016 OA Wu Design
 */

!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.fn.extend({OAmobileScrollView:function(s){var e={},i=function(s){var e=1,i=t(this),n=i.find("> div"),a=n.find("> *"),d=i.width(),l=a.width()+parseFloat(a.css("border-left-width"))+parseFloat(a.css("border-right-width"))+parseFloat(a.css("margin-right"))+parseFloat(a.css("margin-right")),o=(l-d)/2,f=-(l*e+o);n.addClass("n"+a.length).css({left:f}).draggable({axis:"x",start:function(){t(this).removeClass("t")},stop:function(){t(this).addClass("t"),Math.abs((t(this).offset().left+l*e+o)%d)>d/3&&(e+=parseFloat(t(this).offset().left+l*e+o)<0?1:-1),e+1>a.length&&(e=a.length-1),f=-(l*e+o),t(this).css({left:(e+1==a.length?f-o:f>0?0:f)+"px"})}}),i.addClass("s"),setTimeout(function(){i.addClass("z")},300)};return s=t.extend(!0,e,s),t(this).addClass("OA-mobileScrollView").each(function(){setTimeout(i.bind(t(this),s),50)})}})});